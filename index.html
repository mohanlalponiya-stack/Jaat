<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mohan Lal Real AI Studio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root { --glow: #00f2fe; --rgb-grad: linear-gradient(45deg, red, yellow, lime, aqua, blue, magenta, red); }
        body { background: #080808; color: white; font-family: 'Poppins', sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; }
        .header { width: 100%; padding: 15px; text-align: center; font-size: 22px; font-weight: 900; background: #111; border-bottom: 3px solid; border-image: var(--rgb-grad) 1; text-shadow: 0 0 10px var(--glow); }
        .canvas-box { width: 90%; max-width: 400px; height: 500px; background: #000; margin-top: 20px; position: relative; border-radius: 15px; display: flex; justify-content: center; align-items: center; border: 3px solid #333; overflow: hidden; }
        #mainImg { max-width: 100%; max-height: 100%; display: none; z-index: 1; }
        #textOverlay { position: absolute; z-index: 5; color: #fff; font-size: 28px; cursor: move; text-shadow: 2px 2px 8px #000; }
        .panel { width: 90%; max-width: 350px; padding: 20px; background: #151515; border-radius: 20px; margin-top: 20px; }
        button { width: 100%; padding: 12px; margin: 8px 0; border: none; border-radius: 10px; color: white; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .ai-btn { background: linear-gradient(90deg, #8e2de2, #4a00e0); }
        .save-btn { background: #27ae60; }
        #loading { display: none; color: var(--glow); font-weight: bold; margin: 10px; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0.5; } }
    </style>
</head>
<body>

<div class="header">MOHAN LAL AI REAL EDITOR</div>

<div class="canvas-box" id="captureArea">
    <p id="hint">‡§´‡•ã‡§ü‡•ã ‡§Ø‡§π‡§æ‡§Å ‡§≤‡•ã‡§° ‡§ï‡§∞‡•á‡§Ç</p>
    <img id="mainImg">
    <div id="textOverlay" style="display:none;">‡§≤‡§ø‡§ñ‡§®‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</div>
</div>

<div id="loading">AI ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó ‡§ö‡§≤ ‡§∞‡§π‡•Ä ‡§π‡•à... ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∞‡•Å‡§ï‡•á‡§Ç</div>

<div class="panel">
    <input type="file" id="upImg" accept="image/*" style="margin-bottom: 10px;">
    
    <button class="ai-btn" onclick="processAI('dress')">üëó ‡§ï‡§™‡§°‡§º‡•á ‡§¨‡§¶‡§≤‡•á‡§Ç (Real AI)</button>
    <button class="ai-btn" onclick="processAI('hair')">üíá ‡§¨‡§æ‡§≤ ‡§¨‡§¶‡§≤‡•á‡§Ç (Real AI)</button>
    <button class="ai-btn" onclick="processAI('face')">‚ú® ‡§ó‡§æ‡§≤/‡§Æ‡•á‡§ï‡§Ö‡§™ ‡§†‡•Ä‡§ï ‡§ï‡§∞‡•á‡§Ç</button>

    <h3 style="font-size: 14px; color: #555;">SD Card ‡§∏‡•á ‡§´‡•â‡§®‡•ç‡§ü ‡§ö‡•Å‡§®‡•á‡§Ç</h3>
    <input type="file" id="upFont" accept=".ttf,.otf">

    <input type="text" id="txtInp" placeholder="‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§≤‡§ø‡§ñ‡•á‡§Ç..." style="width:100%; padding:10px; margin-top:10px; border-radius:5px; background:#222; color:white; border:1px solid #444;">
    <button onclick="addTxt()" style="background:#333;">‡§´‡•ã‡§ü‡•ã ‡§™‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç</button>

    <button class="save-btn" onclick="saveImage()">‚¨áÔ∏è ‡§ó‡•à‡§≤‡§∞‡•Ä ‡§Æ‡•á‡§Ç ‡§∏‡•á‡§µ ‡§ï‡§∞‡•á‡§Ç</button>
</div>

<script>
    const MY_KEY = "cJu1XI3LEn1dB4BYtohqDHbbK_8"; //
    const upImg = document.getElementById('upImg');
    const mainImg = document.getElementById('mainImg');
    const textOverlay = document.getElementById('textOverlay');
    const loading = document.getElementById('loading');

    // ‡§´‡•ã‡§ü‡•ã ‡§Ö‡§™‡§≤‡•ã‡§°
    upImg.onchange = (e) => {
        const reader = new FileReader();
        reader.onload = (ev) => {
            mainImg.src = ev.target.result;
            mainImg.style.display = 'block';
            document.getElementById('hint').style.display = 'none';
        };
        reader.readAsDataURL(e.target.files[0]);
    };

    // SD Card ‡§´‡•â‡§®‡•ç‡§ü ‡§≤‡•ã‡§°
    document.getElementById('upFont').onchange = (e) => {
        const reader = new FileReader();
        reader.onload = async (ev) => {
            const f = new FontFace('CustomFont', ev.target.result);
            await f.load();
            document.fonts.add(f);
            textOverlay.style.fontFamily = 'CustomFont';
            alert("SD Card ‡§´‡•â‡§®‡•ç‡§ü ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§π‡•ã ‡§ó‡§Ø‡§æ!");
        };
        reader.readAsArrayBuffer(e.target.files[0]);
    };

    // ‡§Ö‡§∏‡§≤‡•Ä AI ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
    async function processAI(mode) {
        if(!mainImg.src) return alert("‡§™‡§π‡§≤‡•á ‡§´‡•ã‡§ü‡•ã ‡§°‡§æ‡§≤‡•á‡§Ç!");
        
        loading.style.display = 'block';
        
        // ‡§Ø‡§π ‡§Ü‡§™‡§ï‡•Ä Key ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á AI ‡§∏‡§∞‡•ç‡§µ‡§∞ ‡§ï‡•ã ‡§∞‡§ø‡§ï‡•ç‡§µ‡•á‡§∏‡•ç‡§ü ‡§≠‡•á‡§ú‡§§‡§æ ‡§π‡•à
        // ‡§Ø‡§π‡§æ‡§Å ‡§π‡§Æ ‡§è‡§ï ‡§ï‡§æ‡§≤‡•ç‡§™‡§®‡§ø‡§ï Fetch Call ‡§¶‡§ø‡§ñ‡§æ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•Ä Key ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§∏‡§≤‡•Ä AI ‡§ï‡•ã ‡§ü‡•ç‡§∞‡§ø‡§ó‡§∞ ‡§ï‡§∞‡•á‡§ó‡§æ
        setTimeout(() => {
            loading.style.display = 'none';
            alert("AI " + mode + " ‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü! (‡§®‡•ã‡§ü: ‡§Ö‡§∏‡§≤‡•Ä ‡§á‡§Æ‡•á‡§ú ‡§∞‡•á‡§Ç‡§°‡§∞‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è 'Fotor' ‡§Ø‡§æ 'Cloudinary' ‡§ï‡§æ ‡§è‡§Ç‡§°‡§™‡•â‡§á‡§Ç‡§ü URL ‡§Ø‡§π‡§æ‡§Å ‡§ú‡•ã‡•ú‡§®‡§æ ‡§π‡•ã‡§ó‡§æ)");
            // ‡§Ö‡§∏‡§≤‡•Ä ‡§∞‡§ø‡§ú‡§≤‡•ç‡§ü ‡§Ü‡§®‡•á ‡§™‡§∞: mainImg.src = resultURL;
        }, 3000);
    }

    function addTxt() {
        const val = document.getElementById('txtInp').value;
        if(val) { textOverlay.innerText = val; textOverlay.style.display = 'block'; }
    }

    function saveImage() {
        html2canvas(document.getElementById('captureArea')).then(canvas => {
            const link = document.createElement('a');
            link.download = 'MohanLal_AI.png';
            link.href = canvas.toDataURL();
            link.click();
        });
    }

    // ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§Æ‡•Ç‡§µ
    let move = false;
    textOverlay.onmousedown = () => move = true;
    window.onmousemove = (e) => { if(move) { textOverlay.style.left = e.clientX - 50 + 'px'; textOverlay.style.top = e.clientY - 150 + 'px'; } };
    window.onmouseup = () => move = false;
</script>

</body>
</html>
